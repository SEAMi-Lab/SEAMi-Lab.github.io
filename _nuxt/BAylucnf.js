import{_ as v}from"./xH4TX3ik.js";import{d as f,c as p,o as _,e as x,a as r,f as h,j as b,t as m,b as c,v as $,_ as L,F as g,r as y,i as w,w as N,u as k,h as D}from"#entry";import{f as T}from"./CVWFppM5.js";import{_ as I}from"./D6ykxo4m.js";const j={class:"flex flex-col gap-1"},B={class:"md:text-lg mr-2"},A={class:"text-gray-500 text-xs md:text-sm"},E=f({__name:"ListItemRow",props:{item:{}},setup(l){const e=l.item,{mainTitle:a,subTitle:t,date:i}=T(e);return(s,n)=>{const u=L;return _(),p("div",j,[x(u,{to:`/news/${c(e).url}`,class:"hover:text-moonlight-500 transition-all"},{default:h(()=>[r("span",B,m(c(a)),1),b(r("span",{class:"text-gray-500 text-sm md:text-base"},m(c(t)),513),[[$,c(t)]])]),_:1},8,["to"]),r("span",A,"UPDATE: "+m(c(i)),1)])}}}),F=Object.assign(E,{__name:"NewsListItemRow"}),O={class:"relative md:pt-4 pb-10 md:pb-14"},R={class:"absolute -start-4 md:-start-6 -top-10 md:-top-16 font-bold opacity-100 text-7xl md:text-9xl text-transparent -z-10 select-none",style:{"-webkit-text-stroke-width":"2px","-webkit-text-stroke-color":"#f3f4f6"}},C={class:"flex flex-col gap-6"},P=f({__name:"ListItem",props:{year:{},list:{}},setup(l){const o=l;return(e,a)=>{const t=F;return _(),p("div",O,[r("h2",R,[r("samp",null,m(e.year),1)]),r("div",C,[r("div",null,m(o.list.length)+" news",1),(_(!0),p(g,null,y(e.list,i=>(_(),w(t,{key:i.slug,item:i},null,8,["item"]))),128))])])}}}),S=Object.assign(P,{__name:"NewsListItem"}),V={class:"p-4 md:p-10"},z=f({__name:"List",async setup(l){let o,e;const{data:a}=([o,e]=N(()=>k("/api/obsidian/news","$TOj0BmRyaG")),o=await o,e(),o);if(a.value===void 0)throw new Error("Data not found");const t=new Map;a.value.sort((s,n)=>new Date(n.date).getTime()-new Date(s.date).getTime()),a.value.forEach(s=>{const n=new Date(s.date).getFullYear();t.has(n)?t.get(n).push(s):t.set(n,[s])});const i=Array.from(t.keys()).sort((s,n)=>n-s);return(s,n)=>{const u=S;return _(),p("div",V,[(_(!0),p(g,null,y(c(i),d=>(_(),w(u,{key:d,year:d,list:c(t).get(d)},null,8,["year","list"]))),128))])}}}),G=Object.assign(z,{__name:"NewsList"}),M={};function U(l,o){const e=v,a=G,t=I;return _(),w(t,null,{default:h(()=>[x(e,{title:"新闻","title-en":"News"}),x(a)]),_:1})}const K=D(M,[["render",U]]);export{K as default};
